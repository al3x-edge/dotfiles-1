#!/usr/bin/env bash

# Ask for the administrator password upfront
sudo -v


# Update Ruby version to 2.0
# ----------------------------------------------------------------------
curl -L https://get.rvm.io | bash -s stable

# install openssl, libyaml dependancies is installed via .brew
rvm pkg install openssl
rvm install 2.0.0
rvm use 2.0.0 --default

# Export PATH after RVM installation
export PATH=$PATH:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin

# Make /Applications the default location of apps
export HOMEBREW_CASK_OPTS="--appdir=/Applications"

# Load RVM into a shell session as a function
[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"

source ~/.bashrc 


# Update Gem
# ----------------------------------------------------------------------
sudo gem update --system

function installgem(){
  if ! gem spec "${@}" > /dev/null 2>&1; then
    echo "Installing gem: ${@}"
    sudo gem install "${@}"
  else
    echo "Gem ${@} is installed!"
  fi
}

# Install Gems Tools
# ----------------------------------------------------------------------
installgem compass
installgem jammit
installgem jekyll
installgem zurb-foundation